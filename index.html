<!DOCTYPE html>
<html>
<head>
    <title>Stream Control</title>
    <meta name="viewport" content=<!DOCTYPE html>
<html>
<head>
    <title>RTIRL Remote Control</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #1e1e1e;
            color: white;
            margin: 0;
            padding: 10px;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            background: #6441a5;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }
        #status {
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h2 style="text-align: center;">RTIRL Remote</h2>
    
    <div id="status">Bereit</div>
    
    <button class="btn" onclick="switchScene('Tisch4_Start')">Tisch 4 Start</button>
    <button class="btn" onclick="switchScene('Tisch4_Game')">Tisch 4 Game</button>
    <button class="btn" onclick="switchScene('Tisch4_Pause')">Tisch 4 Pause</button>

    <script>
        async function switchScene(sceneName) {
            const statusEl = document.getElementById('status');
            statusEl.textContent = "Wechsle Szene...";
            
            try {
                // Korrekter API-Endpunkt fÃ¼r deine RTIRL-Instanz
                const response = await fetch(`https://klt.rtirl.com/api/dbdd459b-aafe-4a55-adf2-795b547db572/setCurrentScene`, {
                    method: 'POST',
                    credentials: 'include',  // Cookies werden mitgesendet
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ sceneName })  // Wichtig: sceneName als JSON-Payload
                });
                
                if (response.ok) {
                    statusEl.textContent = "Szene gewechselt!";
                    setTimeout(() => statusEl.textContent = "Bereit", 2000);
                } else {
                    statusEl.textContent = "Fehler: " + response.status;
                }
            } catch (error) {
                statusEl.textContent = "Verbindungsfehler!";
                console.error("Fehlerdetails:", error);
            }
        }
    </script>
</body>
</html>"width=device-width, initial-scale=1">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #222;
        }
        .button-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 10px 0;
            background: rgba(0,0,0,0.7);
        }
        .scene-btn {
            padding: 12px 20px;
            margin: 0 5px;
            border: none;
            border-radius: 4px;
            background: #6441a5;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .scene-btn:hover {
            background: #7d5bbe;
        }
        .status {
            color: white;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="status" id="status">Bereit</div>
    
    <div class="button-container">
        <button class="scene-btn" data-scene="b3f8b34e-1e5f-4a7c-8e8a-1a1b1c1d1e1f">Start</button>
        <button class="scene-btn" data-scene="a2e7a23d-0d4e-3b6b-7d7z-0z0y0x0w0v0u">Gameplay</button>
        <button class="scene-btn" data-scene="c4g9c45f-2f6g-5c8d-9f9b-2b2a2z2y2x2w">Pause</button>
        <button class="scene-btn" data-scene="d5h0d56g-3g7h-6e9f-0g0c-3c3b3a3z3y3x">Ende</button>
    </div>

    <script>
        const buttons = document.querySelectorAll('.scene-btn');
        const statusEl = document.getElementById('status');
        
        // Aktuelle Szenen-IDs von deiner RTIRL-Seite
        const sceneMap = {
            "Start": "b3f8b34e-1e5f-4a7c-8e8a-1a1b1c1d1e1f",
            "Gameplay": "a2e7a23d-0d4e-3b6b-7d7z-0z0y0x0w0v0u",
            "Pause": "c4g9c45f-2f6g-5c8d-9f9b-2b2a2z2y2x2w",
            "Ende": "d5h0d56g-3g7h-6e9f-0g0c-3c3b3a3z3y3x"
        };

        async function switchScene(sceneId) {
            try {
                statusEl.textContent = "Wechsle Szene...";
                
                const response = await fetch(`https://kit.rtirl.com/api/scenes/${sceneId}/activate`, {
                    method: 'POST',
                    credentials: 'include',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    statusEl.textContent = "Szene gewechselt!";
                    setTimeout(() => statusEl.textContent = "Bereit", 2000);
                } else {
                    statusEl.textContent = "Fehler beim Wechseln";
                }
            } catch (error) {
                statusEl.textContent = "Verbindungsfehler";
                console.error(error);
            }
        }

        buttons.forEach(button => {
            button.addEventListener('click', () => {
                const sceneId = button.dataset.scene;
                switchScene(sceneId);
            });
        });
    </script>
</body>
</html>
